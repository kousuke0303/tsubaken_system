<div class="col-12">
  <div class="row">
    <div class="col-lg-3 col-md-6 col-12">
      <h2>工事一覧</h2>
    </div>
    <div class="col-lg-3 col-md-6 col-12">
      <%= form_with(url: employees_settings_constructions_path, method: :get, local: true) do |f| %>
        <div class="input-group">
          <%= f.collection_select :category_id, @categories, :id, :name, { prompt: "カテゴリを選択", selected: @category }, class: "form-control" %>
          <div class="input-group-append">        
            <input type="submit" value="&#xf002;" class="fas btn btn-primary">
          </div>
        </div>
      <% end %>
    </div>
    <div class="col-lg-6 col-md-6 col-12">
      <%= link_to new_employees_settings_construction_path, remote: true, class: "btn btn-dark float-r" do %>
        <i class="fas fa-plus"></i> 新規工事
      <% end %>
    </div>
  </div>

  <div class="table-responsive">
    <table class="table table-bordered text-nowrap common-table">
      <tr>
        <th>工事名</th>
        <th>カテゴリ名</th>
        <th>単価</th>
        <th>単位</th>
        <th></th>
      </tr>
      <% @constructions.each do |construction| %>
        <tr>
          <td><%= construction.name %></td>
          <td><%= construction.category_name %></td>
          <td><%= construction.price %></td>
          <td><%= construction.unit %></td>
          <td>
            <%= link_to "編集", edit_employees_settings_construction_path(construction), remote: true, class: "btn btn-sm btn-dark" %>
            <%= link_to "削除", employees_settings_construction_path(construction), method: :delete, data: { confirm: "この工事を削除してよろしいですか？" }, class: "btn btn-sm btn-danger" %>
          </td>
        </tr>
      <% end %>
    </table>
  </div>
</div>
