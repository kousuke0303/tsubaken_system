<%= f.label :client_id %>
<%= f.collection_select :client_id, clients, :id, :name, {}, class: "form-control" %>

<%= f.label :attract_method_id %>
<%= f.collection_select :attract_method_id, @attract_methods, :id, :name, { include_blank: "集客方法を選択" }, class: "form-control" %>

<%= f.label :title %>
<%= f.text_field :title, required: true, class: "form-control", maxlength: 30 %>

<%= f.label :postal_code %>
<%= f.text_field :postal_code, maxlength: 7, pattern: "^[0-9]{7}$", autocomplete: "postal_code", id: "postcode", placeholder: "半角数字(ハイフンなし)", class: "form-control" %>

<%= f.label :prefecture_code %>
<%= f.collection_select :prefecture_code, JpPrefecture::Prefecture.all, :name, :name, { prompt: '選択してください' }, id: "prefecture_code", class: "form-control" %>

<%= f.label :address_city %>
<%= f.text_field :address_city, autocomplete: "address_city", id: "address_city", class: "form-control" %>
 
<%= f.label :address_street %>
<%= f.text_field :address_street, autocomplete: "address_street", id: "address_street", class: "form-control" %>

<%= f.label :content %>
<%= f.text_area :content, required: true, class: "form-control", maxlength: 300 %>

<div>
  <%= f.label "担当スタッフ" %>
  <div>
    <%= f.collection_select :staff_ids, staffs, :id, :name, {include_hidden: false}, {class: 'form-control members', multiple: true} %>
  </div>
</div>

<div>
  <%= f.label "担当外部スタッフ" %>
  <div>
    <%= f.collection_select :external_staff_ids, external_staffs, :id, :name, {include_hidden: false}, {class: 'form-control members', multiple: true} %>
  </div>
</div>

<!--<div>-->
<!--  <!%= f.label :external_staff %>-->
<!--  <div>-->
<!--    <!%= f.collection_check_boxes(:external_staff_ids, external_staffs, :id, :name) do |e| %>-->
<!--      <!%= e.check_box %><!%= e.text %>-->
<!--    <!% end %> -->
<!--  </div>-->
<!--</div>-->

<script>
$(document).ready(function() {
  $('.members').select2({
    theme: "bootstrap"
  });
});
</script>

<%= render "shared/javascript/postal_code_to_address" %>